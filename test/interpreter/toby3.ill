module TobyBreaksThings3
  fn fac(0)
    1
  or fac(1)
    1
  or fac(x)
    fac(x - 2) + fac(x - 1)
  end

  make_range :: Int -> List Int -> List Int
  fn make_range(0, acc)
    acc
  or make_range(x, acc)
    make_range(x - 1, Cons(x, acc)) # issue is the inline constructor
  end

  range :: Int -> List Int
  fn range(x)
    make_range(x, Nil)
  end

  fn main()
    show(fmap(fac, range(15)))
  end

end
